<div class="dialog-overlay" *ngIf="isOpen()" (click)="close()">
  <div class="dialog-content" (click)="$event.stopPropagation()">
    <!-- Reward Message -->
    <div class="reward-message" *ngIf="showRewardMessage()">
      <div class="reward-icon">ğŸ‰</div>
      <div class="reward-text">{{ rewardMessage() }}</div>
      <button class="btn btn-primary" (click)="closeRewardMessage()">
        Sá»­ dá»¥ng Voucher
      </button>
    </div>

    <!-- Check-in Form -->
    <div *ngIf="!showRewardMessage()">
      <h2 class="dialog-title">Check-in</h2>

      <!-- For returning customers -->
      <div *ngIf="customerService.currentCustomer() && !isNewCustomer()">
        <div class="greeting">
          ğŸŠ ChÃ o má»«ng {{ customerService.currentCustomer()!.name }} trá»Ÿ láº¡i!
        </div>
        <button class="btn btn-primary btn-large" (click)="onCheckIn()">
          Nháº¥n Ä‘á»ƒ Check-in
        </button>
        <button class="btn btn-secondary" (click)="close()">
          ÄÃ³ng
        </button>
      </div>

      <!-- For new customers -->
      <div *ngIf="isNewCustomer()" class="form-group">
        <label for="name">TÃªn khÃ¡ch hÃ ng:</label>
        <input
          id="name"
          type="text"
          [(ngModel)]="customerName"
          placeholder="Nháº­p tÃªn cá»§a báº¡n"
          class="input-field"
        />

        <label for="phone">6 sá»‘ cuá»‘i sá»‘ Ä‘iá»‡n thoáº¡i:</label>
        <input
          id="phone"
          type="tel"
          [(ngModel)]="customerPhone"
          placeholder="Nháº­p 6 sá»‘ cuá»‘i"
          maxlength="10"
          class="input-field"
        />

        <button class="btn btn-primary btn-large" (click)="onCheckIn()">
          Check-in
        </button>
        <button class="btn btn-secondary" (click)="close()">
          ÄÃ³ng
        </button>
      </div>
    </div>
  </div>
</div>
